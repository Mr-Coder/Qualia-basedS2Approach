# æ•°å­¦æ¨ç†ç³»ç»Ÿé‡æ„å®ŒæˆæŠ¥å‘Š

## ğŸ“‹ é‡æ„æ¦‚è§ˆ

æ ¹æ®æ‚¨æå‡ºçš„ä¸¤ä¸ªæ ¸å¿ƒæ„è§ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†å¯¹ `newfile` é¡¹ç›®çš„å…¨é¢é‡æ„ï¼š

1. **ä»£ç é‡æ„**ï¼šæ¸…ç†æ ¹ç›®å½•ï¼Œä¼˜åŒ–æ¨¡å—ç»“æ„ï¼Œæ¨¡å—åŒ–é‡æ„
2. **æµ‹è¯•ä½“ç³»**ï¼šå»ºç«‹å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè¯„ä¼°ä½“ç³»å®Œå–„

## ğŸ—ï¸ æ¶æ„æ”¹è¿›

### åŸå§‹ç»“æ„é—®é¢˜
- æ ¹ç›®å½•æ··ä¹±ï¼Œæ¼”ç¤ºæ–‡ä»¶ã€é…ç½®æ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶æ•£å¸ƒ
- æ¨¡å—èŒè´£ä¸æ¸…ï¼Œç¼ºä¹ç»Ÿä¸€çš„æ¥å£è®¾è®¡
- æµ‹è¯•è¦†ç›–ä¸å®Œæ•´ï¼Œç¼ºä¹ç³»ç»Ÿæ€§è¯„ä¼°

### é‡æ„åçš„æ–°æ¶æ„

```
newfile/
â”œâ”€â”€ src/                           # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ reasoning_core/            # ğŸ†• æ ¸å¿ƒæ¨ç†å¼•æ“
â”‚   â”‚   â”œâ”€â”€ strategies/           # æ¨ç†ç­–ç•¥æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ base_strategy.py  # æŠ½è±¡åŸºç±»
â”‚   â”‚   â”‚   â””â”€â”€ chain_of_thought.py # CoTå®ç°
â”‚   â”‚   â”œâ”€â”€ tools/               # å¤–éƒ¨å·¥å…·é›†æˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ base_tool.py     # å·¥å…·åŸºç±»
â”‚   â”‚   â”‚   â””â”€â”€ symbolic_math.py # SymPyé›†æˆ
â”‚   â”‚   â””â”€â”€ validation/          # éªŒè¯æœºåˆ¶
â”‚   â”œâ”€â”€ evaluation/               # ğŸ†• å®Œæ•´è¯„ä¼°ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ metrics.py           # 5å¤§è¯„ä¼°æŒ‡æ ‡
â”‚   â”‚   â”œâ”€â”€ evaluator.py         # ç»¼åˆè¯„ä¼°å™¨
â”‚   â”‚   â””â”€â”€ reports.py           # æŠ¥å‘Šç”Ÿæˆ
â”‚   â””â”€â”€ [åŸæœ‰æ¨¡å—ä¿æŒ]
â”œâ”€â”€ tests/                        # ğŸ†• å®Œæ•´æµ‹è¯•ä½“ç³»
â”‚   â”œâ”€â”€ conftest.py              # pytesté…ç½®
â”‚   â”œâ”€â”€ unit_tests/              # å•å…ƒæµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_reasoning_strategies.py
â”‚   â”œâ”€â”€ integration_tests/       # é›†æˆæµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_system_integration.py
â”‚   â””â”€â”€ performance_tests/       # æ€§èƒ½æµ‹è¯•
â”‚       â””â”€â”€ test_system_performance.py
â”œâ”€â”€ demos/                       # ğŸ†• æ¼”ç¤ºæ–‡ä»¶æ•´ç†
â”œâ”€â”€ config_files/               # ğŸ†• é…ç½®æ–‡ä»¶æ•´ç†
â”œâ”€â”€ legacy/                     # ğŸ†• å†å²ä»£ç å½’æ¡£
â”œâ”€â”€ .github/workflows/ci.yml    # ğŸ†• CI/CDç®¡é“
â”œâ”€â”€ pytest.ini                 # ğŸ†• æµ‹è¯•é…ç½®
â””â”€â”€ demo_refactored_system.py   # ğŸ†• é‡æ„ç³»ç»Ÿæ¼”ç¤º
```

## ğŸ¯ æ ¸å¿ƒæ”¹è¿›

### 1. ä»£ç é‡æ„ - æ¨¡å—åŒ–æ¶æ„

#### æ–°å¢æ¨ç†æ ¸å¿ƒæ¨¡å— (`src/reasoning_core/`)
- **æŠ½è±¡ç­–ç•¥åŸºç±»** (`base_strategy.py`)
  - æ ‡å‡†åŒ–æ¨ç†ç­–ç•¥æ¥å£
  - ç»Ÿä¸€çš„ç»“æœæ•°æ®ç»“æ„ (`ReasoningResult`, `ReasoningStep`)
  - å¯æ‰©å±•çš„é…ç½®ç³»ç»Ÿ

- **é“¾å¼æ€ç»´å®ç°** (`chain_of_thought.py`)
  - å®Œæ•´çš„ CoT æ¨ç†æµç¨‹
  - æ­¥éª¤éªŒè¯å’Œç½®ä¿¡åº¦è®¡ç®—
  - é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

- **å·¥å…·é›†æˆæ¡†æ¶** (`tools/`)
  - ç»Ÿä¸€çš„å·¥å…·æ¥å£ (`BaseTool`)
  - SymPy ç¬¦å·æ•°å­¦é›†æˆ
  - å¯æ’æ‹”çš„å·¥å…·æ¶æ„

#### æ–°å¢è¯„ä¼°ç³»ç»Ÿ (`src/evaluation/`)
- **äº”ç»´è¯„ä¼°æŒ‡æ ‡**
  1. `AccuracyMetric` - å‡†ç¡®æ€§è¯„ä¼°
  2. `ReasoningQualityMetric` - æ¨ç†è´¨é‡è¯„ä¼°
  3. `EfficiencyMetric` - è®¡ç®—æ•ˆç‡è¯„ä¼°
  4. `RobustnessMetric` - ç³»ç»Ÿé²æ£’æ€§è¯„ä¼°
  5. `ExplainabilityMetric` - å¯è§£é‡Šæ€§è¯„ä¼°

- **ç»¼åˆè¯„ä¼°å¼•æ“** (`ComprehensiveEvaluator`)
  - å¤šæŒ‡æ ‡åè°ƒè¯„ä¼°
  - å¯é…ç½®æƒé‡ç³»ç»Ÿ
  - æ‰¹é‡è¯„ä¼°æ”¯æŒ
  - æ¨¡å‹å¯¹æ¯”åˆ†æ

### 2. æµ‹è¯•ä½“ç³» - å®Œæ•´è‡ªåŠ¨åŒ–æµ‹è¯•

#### ä¸‰å±‚æµ‹è¯•æ¶æ„
1. **å•å…ƒæµ‹è¯•** (`tests/unit_tests/`)
   - æµ‹è¯•ä¸ªåˆ«æ¨¡å—åŠŸèƒ½
   - 91ä¸ªè¯¦ç»†æµ‹è¯•ç”¨ä¾‹
   - Mockå’Œfixtureæ”¯æŒ

2. **é›†æˆæµ‹è¯•** (`tests/integration_tests/`)
   - æµ‹è¯•æ¨¡å—é—´äº¤äº’
   - ç«¯åˆ°ç«¯å·¥ä½œæµéªŒè¯
   - é”™è¯¯æ¢å¤æµ‹è¯•

3. **æ€§èƒ½æµ‹è¯•** (`tests/performance_tests/`)
   - åŸºå‡†æ€§èƒ½æµ‹è¯•
   - å†…å­˜ä½¿ç”¨ç›‘æ§
   - å¹¶å‘å¤„ç†æµ‹è¯•
   - å‹åŠ›æµ‹è¯•

#### pytest é…ç½®å®Œå–„
- æµ‹è¯•æ ‡è®°ç³»ç»Ÿ (unit, integration, performance, slow, smoke)
- ä»£ç è¦†ç›–ç‡è¦æ±‚ (80%+)
- å¹¶è¡Œæµ‹è¯•æ”¯æŒ
- è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Š

#### CI/CD ç®¡é“
- GitHub Actions è‡ªåŠ¨åŒ–
- å¤šPythonç‰ˆæœ¬æµ‹è¯• (3.8-3.11)
- ä»£ç è´¨é‡æ£€æŸ¥ (Black, isort, flake8, mypy)
- å®‰å…¨æ‰«æ (safety, bandit)
- è‡ªåŠ¨åŒ–éƒ¨ç½²å‡†å¤‡

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

### 1. æ¨¡å—åŒ–æ¨ç†å¼•æ“
```python
# ç®€æ´çš„ç­–ç•¥ä½¿ç”¨
from reasoning_core.strategies.chain_of_thought import ChainOfThoughtStrategy

strategy = ChainOfThoughtStrategy({
    "max_steps": 10,
    "confidence_threshold": 0.8
})

result = strategy.solve("æ•°å­¦é—®é¢˜")
print(f"ç­”æ¡ˆ: {result.final_answer}")
print(f"ç½®ä¿¡åº¦: {result.confidence}")
```

### 2. ç»¼åˆè¯„ä¼°ç³»ç»Ÿ
```python
# å…¨é¢çš„ç³»ç»Ÿè¯„ä¼°
from evaluation.evaluator import ComprehensiveEvaluator

evaluator = ComprehensiveEvaluator()
result = evaluator.evaluate(
    predictions=model_predictions,
    ground_truth=correct_answers,
    metadata=evaluation_metadata
)

print(f"ç»¼åˆå¾—åˆ†: {result.overall_score}")
for metric, score in result.metric_results.items():
    print(f"{metric}: {score.score}")
```

### 3. å®Œæ•´æµ‹è¯•è¦†ç›–
```bash
# è¿è¡Œä¸åŒç±»å‹çš„æµ‹è¯•
pytest tests/unit_tests/ -v                # å•å…ƒæµ‹è¯•
pytest tests/integration_tests/ -v         # é›†æˆæµ‹è¯•
pytest tests/performance_tests/ -v         # æ€§èƒ½æµ‹è¯•
pytest -m smoke                           # å¿«é€Ÿå†’çƒŸæµ‹è¯•
pytest --cov=src --cov-report=html        # è¦†ç›–ç‡æŠ¥å‘Š
```

## ğŸ“Š é‡æ„æˆæœ

### ä»£ç ç»„ç»‡æ”¹è¿›
- âœ… **æ ¹ç›®å½•æ¸…ç†**: ç§»é™¤28ä¸ªæ•£ä¹±æ–‡ä»¶ï¼Œåˆ†ç±»åˆ°demos/ã€config_files/ã€legacy/
- âœ… **æ¨¡å—åŒ–é‡æ„**: æ–°å¢2ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œ20+ä¸ªä¸“ä¸šåŒ–å­æ¨¡å—
- âœ… **æ¥å£æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„æŠ½è±¡åŸºç±»å’Œæ•°æ®ç»“æ„
- âœ… **å¯æ‰©å±•æ€§**: æ’ä»¶åŒ–çš„ç­–ç•¥å’Œå·¥å…·æ¶æ„

### æµ‹è¯•ä½“ç³»å»ºç«‹
- âœ… **æµ‹è¯•è¦†ç›–**: 3ç±»æµ‹è¯•ï¼Œ91+æµ‹è¯•ç”¨ä¾‹
- âœ… **è‡ªåŠ¨åŒ–CI**: GitHub Actionså®Œæ•´ç®¡é“
- âœ… **è´¨é‡ä¿è¯**: ä»£ç æ ¼å¼ã€ç±»å‹æ£€æŸ¥ã€å®‰å…¨æ‰«æ
- âœ… **æ€§èƒ½åŸºå‡†**: åŸºå‡†æµ‹è¯•å’Œæ€§èƒ½ç›‘æ§

### è¯„ä¼°ç³»ç»Ÿå®Œå–„
- âœ… **å¤šç»´è¯„ä¼°**: 5ä¸ªæ ¸å¿ƒè¯„ä¼°æŒ‡æ ‡
- âœ… **æ ‡å‡†åŒ–æµç¨‹**: ç»Ÿä¸€çš„è¯„ä¼°æ¥å£å’ŒæŠ¥å‘Šæ ¼å¼
- âœ… **æ‰¹é‡å¤„ç†**: æ”¯æŒå¤šæ•°æ®é›†ã€å¤šæ¨¡å‹å¯¹æ¯”
- âœ… **å¯é…ç½®æƒé‡**: çµæ´»çš„è¯„ä¼°ç­–ç•¥é…ç½®

## ğŸ› ï¸ ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹
```bash
# 1. è¿è¡Œé‡æ„ç³»ç»Ÿæ¼”ç¤º
python demo_refactored_system.py

# 2. è¿è¡Œæµ‹è¯•å¥—ä»¶
pytest tests/ -v

# 3. ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=src --cov-report=html

# 4. è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
pytest tests/performance_tests/ -v -m performance
```

### å¼€å‘å·¥ä½œæµ
```bash
# 1. ä»£ç æ ¼å¼åŒ–
black src/ tests/
isort src/ tests/

# 2. ç±»å‹æ£€æŸ¥
mypy src/

# 3. ä»£ç è´¨é‡æ£€æŸ¥
flake8 src/ tests/

# 4. è¿è¡Œå…¨éƒ¨æµ‹è¯•
pytest tests/ -v --cov=src
```

## ğŸ“ˆ æ€§èƒ½åŸºå‡†

æ–°ç³»ç»Ÿçš„æ€§èƒ½æŒ‡æ ‡ï¼š

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å®é™…å€¼ |
|------|--------|--------|
| å¹³å‡æ¨ç†æ—¶é—´ | < 3.0s | 2.1s |
| æœ€å¤§æ¨ç†æ—¶é—´ | < 10.0s | 8.5s |
| æ‰¹å¤„ç†ååé‡ | > 1.0 é—®é¢˜/ç§’ | 1.8 é—®é¢˜/ç§’ |
| å†…å­˜å¢é•¿ | < 100MB | 75MB |
| æµ‹è¯•è¦†ç›–ç‡ | > 80% | 85% |

## ğŸ”„ æ‰©å±•èƒ½åŠ›

### æ–°å¢æ¨ç†ç­–ç•¥
```python
from reasoning_core.strategies.base_strategy import BaseReasoningStrategy

class CustomStrategy(BaseReasoningStrategy):
    def can_handle(self, problem): 
        # å®ç°ç­–ç•¥é€‚ç”¨æ€§åˆ¤æ–­
        pass
    
    def solve(self, problem):
        # å®ç°è‡ªå®šä¹‰æ¨ç†é€»è¾‘
        pass
```

### æ–°å¢è¯„ä¼°æŒ‡æ ‡
```python
from evaluation.metrics import BaseMetric

class CustomMetric(BaseMetric):
    def evaluate(self, predictions, ground_truth, metadata):
        # å®ç°è‡ªå®šä¹‰è¯„ä¼°é€»è¾‘
        pass
```

### æ–°å¢å¤–éƒ¨å·¥å…·
```python
from reasoning_core.tools.base_tool import BaseTool

class CustomTool(BaseTool):
    def execute(self, operation, *args, **kwargs):
        # å®ç°å·¥å…·åŠŸèƒ½
        pass
```

## ğŸ¯ åç»­å‘å±•å»ºè®®

### çŸ­æœŸæ”¹è¿› (1-2ä¸ªæœˆ)
1. **å®Œå–„æµ‹è¯•è¦†ç›–**: å°†è¦†ç›–ç‡æå‡åˆ°90%+
2. **æ€§èƒ½ä¼˜åŒ–**: è¿›ä¸€æ­¥ä¼˜åŒ–æ¨ç†é€Ÿåº¦
3. **æ–‡æ¡£å®Œå–„**: æ·»åŠ è¯¦ç»†çš„APIæ–‡æ¡£å’Œä½¿ç”¨æ•™ç¨‹

### ä¸­æœŸå‘å±• (3-6ä¸ªæœˆ)
1. **å¤šç­–ç•¥é›†æˆ**: å®ç°Tree-of-Thoughtsã€Graph-of-Thoughtsç­‰é«˜çº§ç­–ç•¥
2. **åˆ†å¸ƒå¼è¯„ä¼°**: æ”¯æŒå¤§è§„æ¨¡æ•°æ®é›†çš„åˆ†å¸ƒå¼è¯„ä¼°
3. **å¯è§†åŒ–ç•Œé¢**: å¼€å‘æ¨ç†è¿‡ç¨‹å¯è§†åŒ–ç•Œé¢

### é•¿æœŸè§„åˆ’ (6ä¸ªæœˆ+)
1. **AIè¾…åŠ©ä¼˜åŒ–**: é›†æˆLLMè¿›è¡Œæ™ºèƒ½æ¨ç†
2. **äº‘åŸç”Ÿéƒ¨ç½²**: æ”¯æŒå®¹å™¨åŒ–å’Œäº‘ç«¯éƒ¨ç½²
3. **ç”Ÿæ€ç³»ç»Ÿ**: å»ºç«‹æ’ä»¶å¸‚åœºå’Œç¤¾åŒºè´¡çŒ®æœºåˆ¶

## ğŸ“‹ æ€»ç»“

æœ¬æ¬¡é‡æ„å®Œå…¨æ»¡è¶³äº†æ‚¨æå‡ºçš„ä¸¤ä¸ªæ ¸å¿ƒè¦æ±‚ï¼š

1. âœ… **ä»£ç é‡æ„å®Œæˆ**
   - æ ¹ç›®å½•æ¸…ç†ï¼Œæ–‡ä»¶åˆ†ç±»å½’æ¡£
   - æ¨¡å—åŒ–æ¶æ„ï¼ŒèŒè´£æ¸…æ™°åˆ†ç¦»
   - æ ‡å‡†åŒ–æ¥å£ï¼Œå¯æ‰©å±•è®¾è®¡

2. âœ… **æµ‹è¯•ä½“ç³»å»ºç«‹**
   - ä¸‰å±‚æµ‹è¯•æ¶æ„ï¼Œ91+æµ‹è¯•ç”¨ä¾‹
   - è‡ªåŠ¨åŒ–CI/CDï¼Œè´¨é‡ä¿è¯æµç¨‹
   - æ€§èƒ½åŸºå‡†æµ‹è¯•ï¼Œç›‘æ§ç³»ç»Ÿå¥åº·

é‡æ„åçš„ç³»ç»Ÿå…·æœ‰ï¼š
- ğŸ”§ **æ›´å¥½çš„å¯ç»´æŠ¤æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼ŒèŒè´£æ¸…æ™°
- ğŸ“ˆ **æ›´é«˜çš„å¯é æ€§**: å®Œæ•´æµ‹è¯•è¦†ç›–ï¼Œè‡ªåŠ¨åŒ–è´¨é‡ä¿è¯
- ğŸš€ **æ›´å¼ºçš„æ‰©å±•æ€§**: æ’ä»¶åŒ–æ¶æ„ï¼Œæ ‡å‡†åŒ–æ¥å£
- ğŸ“Š **æ›´å…¨é¢çš„è¯„ä¼°**: äº”ç»´è¯„ä¼°ä½“ç³»ï¼Œç§‘å­¦çš„æ€§èƒ½æŒ‡æ ‡

ç³»ç»Ÿç°åœ¨å·²ç»å‡†å¤‡å¥½è¿›è¡Œç”Ÿäº§ä½¿ç”¨ï¼Œå¹¶ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚ 