<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COT-DIR 现代化前端架构 - 完整功能演示</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                        },
                        secondary: {
                            50: '#faf5ff',
                            500: '#8b5cf6',
                            600: '#7c3aed',
                            700: '#6d28d9',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.90);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .gradient-text {
            background: linear-gradient(to right, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-slide-up {
            animation: slideUp 0.5s ease-out;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .hover-lift {
            transition: all 0.2s ease;
        }
        
        .tab-button {
            @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
        }
        
        .tab-button.active {
            @apply bg-purple-500 text-white;
        }
        
        .tab-button:not(.active) {
            @apply text-gray-600 hover:text-gray-800 hover:bg-gray-100;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 min-h-screen">
    <!-- 背景装饰 -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse-slow"></div>
        <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse-slow"></div>
    </div>

    <!-- 头部 -->
    <header class="glass-card border-b border-gray-200 sticky top-0 z-50 animate-slide-up">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-lg">🧠</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold gradient-text">COT-DIR</h1>
                        <p class="text-xs text-gray-600">智能数学推理系统</p>
                    </div>
                </div>
                
                <!-- 导航菜单 -->
                <nav class="flex items-center space-x-2">
                    <button onclick="showTab('solver')" class="tab-button active" id="solver-tab">
                        🧠 智能解题
                    </button>
                    <button onclick="showTab('strategies')" class="tab-button" id="strategies-tab">
                        🎯 推理策略
                    </button>
                    <button onclick="showTab('learning')" class="tab-button" id="learning-tab">
                        📚 学习指导
                    </button>
                    <button onclick="showTab('knowledge')" class="tab-button" id="knowledge-tab">
                        🗺️ 知识图谱
                    </button>
                    <button onclick="showTab('error')" class="tab-button" id="error-tab">
                        🔍 错题分析
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <!-- 主要内容 -->
    <main class="container mx-auto px-4 py-8 relative z-10">
        <!-- 智能解题 -->
        <div id="solver-content" class="tab-content active">
            <div class="max-w-4xl mx-auto space-y-6">
                <!-- 问题解决器 -->
                <div class="glass-card rounded-2xl p-6 shadow-xl animate-slide-up">
                    <div class="flex flex-col space-y-1.5 pb-6">
                        <h2 class="text-2xl font-bold gradient-text">🧠 智能数学解题系统</h2>
                        <p class="text-gray-600">基于COT-DIR算法的智能推理系统，支持多种推理策略</p>
                    </div>
                    
                    <div class="space-y-6">
                        <!-- 示例问题 -->
                        <div class="space-y-3">
                            <h3 class="text-lg font-semibold text-gray-700">📚 示例问题</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                <button onclick="selectExample(this)" class="text-left p-4 rounded-lg border-2 border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-colors hover-lift">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded-full">算术问题</span>
                                        <span class="text-xs px-2 py-1 bg-green-100 text-green-600 rounded-full">简单</span>
                                    </div>
                                    <p class="text-sm text-gray-700">小明有10个苹果，他给了小红3个，又买了5个，请问小明现在有多少个苹果？</p>
                                </button>
                                
                                <button onclick="selectExample(this)" class="text-left p-4 rounded-lg border-2 border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-colors hover-lift">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded-full">几何问题</span>
                                        <span class="text-xs px-2 py-1 bg-green-100 text-green-600 rounded-full">简单</span>
                                    </div>
                                    <p class="text-sm text-gray-700">一个长方形的长是12厘米，宽是8厘米，求这个长方形的面积。</p>
                                </button>
                                
                                <button onclick="selectExample(this)" class="text-left p-4 rounded-lg border-2 border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-colors hover-lift">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded-full">应用题</span>
                                        <span class="text-xs px-2 py-1 bg-yellow-100 text-yellow-600 rounded-full">中等</span>
                                    </div>
                                    <p class="text-sm text-gray-700">班级里有30名学生，其中男生比女生多4人，请问男生和女生各有多少人？</p>
                                </button>
                                
                                <button onclick="selectExample(this)" class="text-left p-4 rounded-lg border-2 border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-colors hover-lift">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded-full">百分比问题</span>
                                        <span class="text-xs px-2 py-1 bg-yellow-100 text-yellow-600 rounded-full">中等</span>
                                    </div>
                                    <p class="text-sm text-gray-700">一件商品原价100元，打8折后又减10元，最终价格是多少？这相当于原价的几折？</p>
                                </button>
                            </div>
                        </div>

                        <!-- 问题输入 -->
                        <div class="space-y-2">
                            <label class="text-sm font-medium text-gray-700">💭 输入数学问题</label>
                            <textarea 
                                id="problemInput"
                                placeholder="请输入您要解决的数学问题，系统将进行智能分析..."
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none transition-colors resize-none min-h-[120px] text-base"
                            ></textarea>
                        </div>

                        <!-- 策略选择 -->
                        <div class="space-y-3">
                            <label class="text-sm font-medium text-gray-700">🎯 选择推理策略</label>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                <button onclick="selectStrategy('auto')" class="strategy-btn p-4 rounded-lg border-2 border-purple-500 bg-purple-50 text-left transition-all" data-strategy="auto">
                                    <div class="flex items-center gap-3">
                                        <div class="w-4 h-4 rounded-full bg-purple-500"></div>
                                        <div class="flex-1">
                                            <div class="font-medium text-gray-900 mb-1">🤖 自动选择</div>
                                            <div class="text-xs text-gray-600">系统根据问题特征自动选择最适合的推理策略</div>
                                        </div>
                                        <div class="text-purple-500">✓</div>
                                    </div>
                                </button>
                                
                                <button onclick="selectStrategy('cot')" class="strategy-btn p-4 rounded-lg border-2 border-gray-200 hover:border-gray-300 text-left transition-all" data-strategy="cot">
                                    <div class="flex items-center gap-3">
                                        <div class="w-4 h-4 rounded-full bg-blue-500"></div>
                                        <div class="flex-1">
                                            <div class="font-medium text-gray-900 mb-1">🔗 思维链推理 (COT)</div>
                                            <div class="text-xs text-gray-600">逐步分解问题，建立清晰的推理链条</div>
                                        </div>
                                    </div>
                                </button>
                                
                                <button onclick="selectStrategy('got')" class="strategy-btn p-4 rounded-lg border-2 border-gray-200 hover:border-gray-300 text-left transition-all" data-strategy="got">
                                    <div class="flex items-center gap-3">
                                        <div class="w-4 h-4 rounded-full bg-green-500"></div>
                                        <div class="flex-1">
                                            <div class="font-medium text-gray-900 mb-1">🕸️ 思维图推理 (GOT)</div>
                                            <div class="text-xs text-gray-600">构建网络拓扑，发现隐含连接关系</div>
                                        </div>
                                    </div>
                                </button>
                                
                                <button onclick="selectStrategy('tot')" class="strategy-btn p-4 rounded-lg border-2 border-gray-200 hover:border-gray-300 text-left transition-all" data-strategy="tot">
                                    <div class="flex items-center gap-3">
                                        <div class="w-4 h-4 rounded-full bg-orange-500"></div>
                                        <div class="flex-1">
                                            <div class="font-medium text-gray-900 mb-1">🌳 思维树推理 (TOT)</div>
                                            <div class="text-xs text-gray-600">多路径探索，层次化分析问题</div>
                                        </div>
                                    </div>
                                </button>
                            </div>
                        </div>

                        <!-- 控制按钮 -->
                        <div class="flex gap-4 justify-center">
                            <button 
                                onclick="solveProblem()"
                                class="px-8 h-12 text-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 shadow-lg hover-lift transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2"
                            >
                                🚀 开始解题
                            </button>
                            <button 
                                onclick="clearProblem()"
                                class="px-8 h-12 text-lg border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:border-gray-400 hover:bg-gray-50 transition-all duration-200"
                            >
                                🗑️ 清空
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 结果展示区域 -->
                <div id="resultArea" class="space-y-6" style="display: none;">
                    <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">
                        <!-- 答案和基本信息 -->
                        <div class="glass-card rounded-2xl p-6 shadow-xl animate-slide-up">
                            <div class="flex flex-col space-y-1.5 pb-6">
                                <h3 class="text-2xl font-bold gradient-text">✅ 解答结果</h3>
                            </div>
                            <div class="space-y-4">
                                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                    <div class="text-3xl font-bold text-green-800 mb-2" id="answerDisplay">
                                        12
                                    </div>
                                    <div class="text-sm text-green-600" id="confidenceDisplay">
                                        置信度：95.0%
                                    </div>
                                </div>
                                
                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                    <div class="text-sm text-blue-600 mb-2" id="strategyDisplay">
                                        <strong>推理策略：</strong>思维链推理 (COT)
                                    </div>
                                    <div class="text-xs text-blue-500">
                                        基于问题特征自动选择最优策略
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 解题步骤 -->
                        <div class="xl:col-span-2 glass-card rounded-2xl p-6 shadow-xl animate-slide-up">
                            <div class="flex flex-col space-y-1.5 pb-6">
                                <h3 class="text-2xl font-bold gradient-text">📋 详细推理步骤</h3>
                            </div>
                            <div class="space-y-4" id="stepsDisplay">
                                <!-- 步骤将通过JavaScript动态生成 -->
                            </div>
                        </div>
                    </div>

                    <!-- 实体关系图 -->
                    <div class="glass-card rounded-2xl p-6 shadow-xl animate-slide-up">
                        <div class="flex flex-col space-y-1.5 pb-6">
                            <h3 class="text-2xl font-bold gradient-text">🕸️ 实体关系图</h3>
                        </div>
                        <div class="relative">
                            <svg id="relationshipDiagram" width="100%" height="400" class="border border-gray-200 rounded-lg bg-gray-50">
                                <!-- SVG内容将通过JavaScript动态生成 -->
                            </svg>
                            <div class="mt-4 flex flex-wrap gap-4 text-sm">
                                <div class="flex items-center space-x-2">
                                    <div class="w-4 h-4 rounded-full bg-red-500"></div>
                                    <span>👤 人物</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <div class="w-4 h-4 rounded-full bg-green-500"></div>
                                    <span>📦 物品</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <div class="w-4 h-4 rounded-full bg-orange-500"></div>
                                    <span>💰 货币</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <div class="w-4 h-4 rounded-full bg-purple-500"></div>
                                    <span>💡 概念</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 推理策略 -->
        <div id="strategies-content" class="tab-content">
            <div class="max-w-6xl mx-auto space-y-6">
                <div class="glass-card rounded-2xl p-6 shadow-xl">
                    <h2 class="text-2xl font-bold gradient-text mb-4">🎯 推理策略详解</h2>
                    <p class="text-gray-600 mb-6">深入了解COT-DIR系统的三种核心推理策略</p>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- COT策略 -->
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-white text-xl">
                                    🔗
                                </div>
                                <div>
                                    <h3 class="font-semibold text-blue-800">思维链推理</h3>
                                    <p class="text-sm text-blue-600">Chain-of-Thought</p>
                                </div>
                            </div>
                            <p class="text-sm text-blue-700 mb-4">
                                通过逐步分解问题，建立清晰的推理链条，适合处理需要顺序推理的问题。
                            </p>
                            <div class="space-y-3">
                                <div>
                                    <h4 class="font-medium text-blue-800 mb-2">核心特征</h4>
                                    <ul class="text-xs text-blue-600 space-y-1">
                                        <li>• 链式分解 - 将复杂问题分解为简单步骤</li>
                                        <li>• 实体物性分析 - 深入分析实体的物理属性</li>
                                        <li>• 状态转移跟踪 - 跟踪问题状态的变化过程</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-medium text-blue-800 mb-2">适用场景</h4>
                                    <ul class="text-xs text-blue-600 space-y-1">
                                        <li>• 基础数学运算问题</li>
                                        <li>• 需要逐步推理的问题</li>
                                        <li>• 初学者或基础薄弱</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- GOT策略 -->
                        <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center text-white text-xl">
                                    🕸️
                                </div>
                                <div>
                                    <h3 class="font-semibold text-green-800">思维图推理</h3>
                                    <p class="text-sm text-green-600">Graph-of-Thought</p>
                                </div>
                            </div>
                            <p class="text-sm text-green-700 mb-4">
                                构建网络拓扑结构，发现隐含连接关系，适合处理复杂关系网络问题。
                            </p>
                            <div class="space-y-3">
                                <div>
                                    <h4 class="font-medium text-green-800 mb-2">核心特征</h4>
                                    <ul class="text-xs text-green-600 space-y-1">
                                        <li>• 网络拓扑构建 - 建立复杂的关系网络</li>
                                        <li>• 隐含边发现 - 发现潜在的实体关系</li>
                                        <li>• 流动分析 - 分析信息在网络中的流动</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-medium text-green-800 mb-2">适用场景</h4>
                                    <ul class="text-xs text-green-600 space-y-1">
                                        <li>• 复杂应用题</li>
                                        <li>• 多变量关系问题</li>
                                        <li>• 需要系统思维</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- TOT策略 -->
                        <div class="bg-orange-50 border border-orange-200 rounded-lg p-6">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center text-white text-xl">
                                    🌳
                                </div>
                                <div>
                                    <h3 class="font-semibold text-orange-800">思维树推理</h3>
                                    <p class="text-sm text-orange-600">Tree-of-Thought</p>
                                </div>
                            </div>
                            <p class="text-sm text-orange-700 mb-4">
                                构建层次化的思维结构，探索多种解题路径，适合需要多方案比较的问题。
                            </p>
                            <div class="space-y-3">
                                <div>
                                    <h4 class="font-medium text-orange-800 mb-2">核心特征</h4>
                                    <ul class="text-xs text-orange-600 space-y-1">
                                        <li>• 层次树构建 - 建立分层的思维结构</li>
                                        <li>• 多路径探索 - 探索多种可能的解法</li>
                                        <li>• 最优选择 - 选择最优的解题路径</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-medium text-orange-800 mb-2">适用场景</h4>
                                    <ul class="text-xs text-orange-600 space-y-1">
                                        <li>• 开放性问题</li>
                                        <li>• 多解法问题</li>
                                        <li>• 需要创新思维</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 学习指导 -->
        <div id="learning-content" class="tab-content">
            <div class="max-w-6xl mx-auto space-y-6">
                <div class="glass-card rounded-2xl p-6 shadow-xl">
                    <h2 class="text-2xl font-bold gradient-text mb-4">📚 学习指导</h2>
                    <p class="text-gray-600 mb-6">系统化的学习路径和实用技巧</p>
                    
                    <!-- 学习路径 -->
                    <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 mb-6">
                        <h3 class="text-xl font-semibold mb-4">🛤️ 学习路径（6个阶段）</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-white rounded-lg p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">1</div>
                                    <h4 class="font-medium">实体识别阶段</h4>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">学会识别问题中的关键实体和对象</p>
                                <ul class="text-xs text-gray-500 space-y-1">
                                    <li>• 识别人物、物品、数量</li>
                                    <li>• 区分已知和未知条件</li>
                                    <li>• 理解实体属性特征</li>
                                </ul>
                            </div>
                            
                            <div class="bg-white rounded-lg p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm">2</div>
                                    <h4 class="font-medium">关系理解阶段</h4>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">深入理解实体间的关系</p>
                                <ul class="text-xs text-gray-500 space-y-1">
                                    <li>• 识别数量关系</li>
                                    <li>• 理解时间空间关系</li>
                                    <li>• 掌握因果关系分析</li>
                                </ul>
                            </div>
                            
                            <div class="bg-white rounded-lg p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm">3</div>
                                    <h4 class="font-medium">策略选择阶段</h4>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">根据问题特点选择合适策略</p>
                                <ul class="text-xs text-gray-500 space-y-1">
                                    <li>• 判断问题复杂度</li>
                                    <li>• 识别问题类型特征</li>
                                    <li>• 选择合适推理策略</li>
                                </ul>
                            </div>
                            
                            <div class="bg-white rounded-lg p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-sm">4</div>
                                    <h4 class="font-medium">深度推理阶段</h4>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">运用策略进行深入推理</p>
                                <ul class="text-xs text-gray-500 space-y-1">
                                    <li>• 按策略要求推理</li>
                                    <li>• 保持逻辑连贯性</li>
                                    <li>• 处理分支情况</li>
                                </ul>
                            </div>
                            
                            <div class="bg-white rounded-lg p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white font-bold text-sm">5</div>
                                    <h4 class="font-medium">结果验证阶段</h4>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">验证推理结果的正确性</p>
                                <ul class="text-xs text-gray-500 space-y-1">
                                    <li>• 检查计算准确性</li>
                                    <li>• 验证结果合理性</li>
                                    <li>• 确认符合题意</li>
                                </ul>
                            </div>
                            
                            <div class="bg-white rounded-lg p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center text-white font-bold text-sm">6</div>
                                    <h4 class="font-medium">反思改进阶段</h4>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">反思总结，持续改进</p>
                                <ul class="text-xs text-gray-500 space-y-1">
                                    <li>• 分析解题优缺点</li>
                                    <li>• 总结关键步骤</li>
                                    <li>• 制定改进计划</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 问题类型指导 -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <h4 class="font-semibold text-blue-800 mb-2">🔢 算术问题</h4>
                            <p class="text-sm text-blue-600 mb-3">基础数学运算，注重数量关系</p>
                            <div class="text-xs text-blue-500 space-y-1">
                                <div>• 数量关系明确</div>
                                <div>• 运算规则清晰</div>
                                <div>• 推荐使用COT策略</div>
                            </div>
                        </div>
                        
                        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                            <h4 class="font-semibold text-green-800 mb-2">📐 几何问题</h4>
                            <p class="text-sm text-green-600 mb-3">图形空间关系，公式应用</p>
                            <div class="text-xs text-green-500 space-y-1">
                                <div>• 空间关系分析</div>
                                <div>• 公式应用为主</div>
                                <div>• 推荐使用GOT策略</div>
                            </div>
                        </div>
                        
                        <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                            <h4 class="font-semibold text-purple-800 mb-2">🌍 应用题</h4>
                            <p class="text-sm text-purple-600 mb-3">实际情境，复杂关系</p>
                            <div class="text-xs text-purple-500 space-y-1">
                                <div>• 现实情境映射</div>
                                <div>• 多约束条件</div>
                                <div>• 推荐使用GOT/TOT策略</div>
                            </div>
                        </div>
                        
                        <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                            <h4 class="font-semibold text-orange-800 mb-2">📊 百分比问题</h4>
                            <p class="text-sm text-orange-600 mb-3">比例计算，转换思维</p>
                            <div class="text-xs text-orange-500 space-y-1">
                                <div>• 比例关系计算</div>
                                <div>• 整体部分关系</div>
                                <div>• 推荐使用COT策略</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 知识图谱 -->
        <div id="knowledge-content" class="tab-content">
            <div class="max-w-6xl mx-auto space-y-6">
                <div class="glass-card rounded-2xl p-6 shadow-xl">
                    <h2 class="text-2xl font-bold gradient-text mb-4">🗺️ 知识图谱</h2>
                    <p class="text-gray-600 mb-6">可视化展示COT-DIR系统的知识结构</p>
                    
                    <!-- 知识域概览 -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-white text-xl">💡</div>
                                <div>
                                    <h3 class="font-semibold text-blue-800">核心概念</h3>
                                    <p class="text-sm text-blue-600">5个节点</p>
                                </div>
                            </div>
                            <div class="text-xs text-blue-500">实体, 关系, 属性, 约束, 推理</div>
                        </div>
                        
                        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center text-white text-xl">🎯</div>
                                <div>
                                    <h3 class="font-semibold text-green-800">推理策略</h3>
                                    <p class="text-sm text-green-600">3个节点</p>
                                </div>
                            </div>
                            <div class="text-xs text-green-500">COT推理, GOT推理, TOT推理</div>
                        </div>
                        
                        <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center text-white text-xl">📚</div>
                                <div>
                                    <h3 class="font-semibold text-orange-800">问题领域</h3>
                                    <p class="text-sm text-orange-600">4个节点</p>
                                </div>
                            </div>
                            <div class="text-xs text-orange-500">算术, 几何, 应用, 百分比</div>
                        </div>
                        
                        <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center text-white text-xl">🛠️</div>
                                <div>
                                    <h3 class="font-semibold text-red-800">思维技能</h3>
                                    <p class="text-sm text-red-600">6个节点</p>
                                </div>
                            </div>
                            <div class="text-xs text-red-500">分解, 建模, 分析, 验证, 探索, 评估</div>
                        </div>
                    </div>

                    <!-- 智能推理过程流程 -->
                    <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">🔄 智能推理过程流程</h3>
                        <div class="flex items-center justify-between text-sm">
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold">1</div>
                                <span class="mt-2 text-center">实体识别</span>
                            </div>
                            <div class="flex-1 h-px bg-gray-300 mx-2"></div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold">2</div>
                                <span class="mt-2 text-center">关系分析</span>
                            </div>
                            <div class="flex-1 h-px bg-gray-300 mx-2"></div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold">3</div>
                                <span class="mt-2 text-center">策略选择</span>
                            </div>
                            <div class="flex-1 h-px bg-gray-300 mx-2"></div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold">4</div>
                                <span class="mt-2 text-center">推理执行</span>
                            </div>
                            <div class="flex-1 h-px bg-gray-300 mx-2"></div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 bg-red-500 rounded-full flex items-center justify-center text-white font-bold">5</div>
                                <span class="mt-2 text-center">结果验证</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 错题分析 -->
        <div id="error-content" class="tab-content">
            <div class="max-w-6xl mx-auto space-y-6">
                <div class="glass-card rounded-2xl p-6 shadow-xl">
                    <h2 class="text-2xl font-bold gradient-text mb-4">🔍 错题分析</h2>
                    <p class="text-gray-600 mb-6">智能分析常见错误类型，提供个性化改进建议</p>
                    
                    <!-- 常见错误类型 -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center text-white text-xl">🔍</div>
                                <div>
                                    <h3 class="font-semibold text-red-800">实体识别错误</h3>
                                    <p class="text-sm text-red-600">未能正确识别关键实体</p>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div>
                                    <h4 class="text-sm font-medium text-red-700">典型症状</h4>
                                    <ul class="text-xs text-red-600 space-y-1">
                                        <li>• 答案量纲不正确</li>
                                        <li>• 忽略关键信息</li>
                                        <li>• 混淆实体对象</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-red-700">解决方案</h4>
                                    <ul class="text-xs text-red-600 space-y-1">
                                        <li>• 仔细标记所有实体</li>
                                        <li>• 使用表格整理信息</li>
                                        <li>• 区分实体类型属性</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center text-white text-xl">🔗</div>
                                <div>
                                    <h3 class="font-semibold text-orange-800">关系理解错误</h3>
                                    <p class="text-sm text-orange-600">错误理解实体关系</p>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div>
                                    <h4 class="text-sm font-medium text-orange-700">典型症状</h4>
                                    <ul class="text-xs text-orange-600 space-y-1">
                                        <li>• 计算方向错误</li>
                                        <li>• 运算符号错误</li>
                                        <li>• 逻辑推理不一致</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-orange-700">解决方案</h4>
                                    <ul class="text-xs text-orange-600 space-y-1">
                                        <li>• 绘制关系图</li>
                                        <li>• 标示关系方向</li>
                                        <li>• 检查逻辑一致性</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-white text-xl">🎯</div>
                                <div>
                                    <h3 class="font-semibold text-blue-800">策略选择错误</h3>
                                    <p class="text-sm text-blue-600">选择不适合的推理策略</p>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div>
                                    <h4 class="text-sm font-medium text-blue-700">典型症状</h4>
                                    <ul class="text-xs text-blue-600 space-y-1">
                                        <li>• 解题过程过于复杂</li>
                                        <li>• 推理效率低下</li>
                                        <li>• 容易陷入死循环</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-blue-700">解决方案</h4>
                                    <ul class="text-xs text-blue-600 space-y-1">
                                        <li>• 分析问题复杂度</li>
                                        <li>• 了解策略适用场景</li>
                                        <li>• 尝试多种策略组合</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center text-white text-xl">⚠️</div>
                                <div>
                                    <h3 class="font-semibold text-purple-800">约束忽略错误</h3>
                                    <p class="text-sm text-purple-600">忽略重要约束条件</p>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div>
                                    <h4 class="text-sm font-medium text-purple-700">典型症状</h4>
                                    <ul class="text-xs text-purple-600 space-y-1">
                                        <li>• 结果超出合理范围</li>
                                        <li>• 违背物理定律</li>
                                        <li>• 逻辑自相矛盾</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-purple-700">解决方案</h4>
                                    <ul class="text-xs text-purple-600 space-y-1">
                                        <li>• 列出所有约束条件</li>
                                        <li>• 检查隐含约束</li>
                                        <li>• 验证结果合理性</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 改进建议 -->
                    <div class="bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">🚀 个性化改进建议</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-3">🎯 学习要点</h4>
                                <ul class="space-y-2 text-sm text-gray-700">
                                    <li class="flex items-start gap-2">
                                        <span class="text-green-500 mt-1">✓</span>
                                        <span>循序渐进，从简单问题开始</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-green-500 mt-1">✓</span>
                                        <span>重视实体识别和关系分析</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-green-500 mt-1">✓</span>
                                        <span>选择合适的推理策略</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-green-500 mt-1">✓</span>
                                        <span>坚持练习和反思改进</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-3">⚠️ 注意事项</h4>
                                <ul class="space-y-2 text-sm text-gray-700">
                                    <li class="flex items-start gap-2">
                                        <span class="text-orange-500 mt-1">!</span>
                                        <span>不要急于求解，先理解问题</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-orange-500 mt-1">!</span>
                                        <span>避免跳步，保持推理完整性</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-orange-500 mt-1">!</span>
                                        <span>重视验证环节，确保答案正确</span>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <span class="text-orange-500 mt-1">!</span>
                                        <span>错题是宝贵的学习资源</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        let currentStrategy = 'auto';
        
        // 标签页切换功能
        function showTab(tabName) {
            // 隐藏所有内容
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // 移除所有标签按钮的active类
            const tabs = document.querySelectorAll('.tab-button');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // 显示选中的内容
            document.getElementById(tabName + '-content').classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }
        
        // 示例选择函数
        function selectExample(button) {
            const problemText = button.querySelector('p').textContent;
            document.getElementById('problemInput').value = problemText;
            
            // 添加视觉反馈
            button.style.transform = 'scale(0.98)';
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 100);
        }
        
        // 策略选择函数
        function selectStrategy(strategy) {
            currentStrategy = strategy;
            
            // 更新按钮状态
            const buttons = document.querySelectorAll('.strategy-btn');
            buttons.forEach(btn => {
                const btnStrategy = btn.getAttribute('data-strategy');
                if (btnStrategy === strategy) {
                    btn.classList.add('border-purple-500', 'bg-purple-50');
                    btn.classList.remove('border-gray-200', 'hover:border-gray-300');
                    const checkmark = btn.querySelector('.text-purple-500');
                    if (checkmark) checkmark.textContent = '✓';
                } else {
                    btn.classList.remove('border-purple-500', 'bg-purple-50');
                    btn.classList.add('border-gray-200', 'hover:border-gray-300');
                    const checkmark = btn.querySelector('.text-purple-500');
                    if (checkmark) checkmark.textContent = '';
                }
            });
        }
        
        // 解题函数
        async function solveProblem() {
            const problem = document.getElementById('problemInput').value.trim();
            
            if (!problem) {
                alert('请输入问题');
                return;
            }

            // 显示加载状态
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '🔄 正在解题...';
            button.disabled = true;

            // 模拟API调用
            try {
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // 模拟解题结果
                const result = {
                    answer: "12",
                    confidence: 0.95,
                    strategy: currentStrategy,
                    steps: [
                        "1. 分析问题：识别出实体'小明'、'苹果'和相关数量",
                        "2. 建立关系：小明初始有10个苹果",
                        "3. 状态转移：给出3个苹果后，剩余10-3=7个",
                        "4. 状态更新：又买了5个苹果，总数7+5=12个",
                        "5. 验证结果：12个苹果符合题意和实际情况"
                    ],
                    entities: [
                        { id: "1", name: "小明", type: "person" },
                        { id: "2", name: "苹果", type: "object" },
                        { id: "3", name: "10个", type: "concept" },
                        { id: "4", name: "小红", type: "person" }
                    ],
                    relationships: [
                        { source: "1", target: "2", type: "拥有", label: "拥有" },
                        { source: "2", target: "3", type: "数量", label: "数量关系" },
                        { source: "1", target: "4", type: "给予", label: "给予关系" }
                    ]
                };

                displayResult(result);
                
            } catch (error) {
                alert('解题失败，请重试');
            } finally {
                button.textContent = originalText;
                button.disabled = false;
            }
        }
        
        // 清空函数
        function clearProblem() {
            document.getElementById('problemInput').value = '';
            document.getElementById('resultArea').style.display = 'none';
        }
        
        // 显示结果
        function displayResult(result) {
            // 更新答案显示
            document.getElementById('answerDisplay').textContent = `答案：${result.answer}`;
            document.getElementById('confidenceDisplay').textContent = `置信度：${(result.confidence * 100).toFixed(1)}%`;
            
            // 更新策略显示
            const strategyNames = {
                'auto': '自动选择',
                'cot': '思维链推理 (COT)',
                'got': '思维图推理 (GOT)',
                'tot': '思维树推理 (TOT)'
            };
            document.getElementById('strategyDisplay').innerHTML = `<strong>推理策略：</strong>${strategyNames[result.strategy]}`;

            // 更新步骤显示
            const stepsHtml = result.steps.map((step, index) => `
                <div class="flex items-start gap-4 p-4 bg-gray-50 rounded-lg animate-slide-up" style="animation-delay: ${index * 0.1}s">
                    <div class="w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0">
                        ${index + 1}
                    </div>
                    <div class="flex-1">
                        <div class="text-sm text-gray-800 leading-relaxed">${step}</div>
                    </div>
                </div>
            `).join('');
            document.getElementById('stepsDisplay').innerHTML = stepsHtml;

            // 生成实体关系图
            generateRelationshipDiagram(result.entities, result.relationships);

            // 显示结果区域
            document.getElementById('resultArea').style.display = 'block';
            document.getElementById('resultArea').scrollIntoView({ behavior: 'smooth' });
        }
        
        // 生成实体关系图
        function generateRelationshipDiagram(entities, relationships) {
            const svg = document.getElementById('relationshipDiagram');
            svg.innerHTML = '';
            
            const width = svg.clientWidth || 800;
            const height = 400;
            
            // 计算节点位置
            const centerX = width / 2;
            const centerY = height / 2;
            const radius = Math.min(width, height) / 4;
            
            const positions = entities.map((entity, index) => {
                if (entities.length === 1) {
                    return { x: centerX, y: centerY };
                }
                const angle = (index * 2 * Math.PI) / entities.length;
                return {
                    x: centerX + radius * Math.cos(angle),
                    y: centerY + radius * Math.sin(angle)
                };
            });

            // 绘制连接线
            relationships.forEach(rel => {
                const sourceIndex = entities.findIndex(e => e.id === rel.source);
                const targetIndex = entities.findIndex(e => e.id === rel.target);
                
                if (sourceIndex !== -1 && targetIndex !== -1) {
                    const source = positions[sourceIndex];
                    const target = positions[targetIndex];
                    
                    // 创建连接线
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line.setAttribute('x1', source.x);
                    line.setAttribute('y1', source.y);
                    line.setAttribute('x2', target.x);
                    line.setAttribute('y2', target.y);
                    line.setAttribute('stroke', '#94a3b8');
                    line.setAttribute('stroke-width', '2');
                    svg.appendChild(line);
                    
                    // 添加标签
                    const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    text.setAttribute('x', (source.x + target.x) / 2);
                    text.setAttribute('y', (source.y + target.y) / 2 - 5);
                    text.setAttribute('text-anchor', 'middle');
                    text.setAttribute('class', 'text-xs fill-gray-600');
                    text.textContent = rel.label;
                    svg.appendChild(text);
                }
            });

            // 绘制节点
            entities.forEach((entity, index) => {
                const position = positions[index];
                const colors = {
                    person: '#ef4444',
                    object: '#22c55e',
                    money: '#f97316',
                    concept: '#8b5cf6'
                };
                const icons = {
                    person: '👤',
                    object: '📦',
                    money: '💰',
                    concept: '💡'
                };
                
                // 创建圆形
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', position.x);
                circle.setAttribute('cy', position.y);
                circle.setAttribute('r', '35');
                circle.setAttribute('fill', colors[entity.type] || '#6b7280');
                circle.setAttribute('stroke', '#fff');
                circle.setAttribute('stroke-width', '3');
                circle.setAttribute('class', 'cursor-pointer drop-shadow-lg');
                svg.appendChild(circle);
                
                // 添加图标
                const iconText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                iconText.setAttribute('x', position.x);
                iconText.setAttribute('y', position.y - 5);
                iconText.setAttribute('text-anchor', 'middle');
                iconText.setAttribute('class', 'text-xs fill-white font-medium pointer-events-none');
                iconText.textContent = icons[entity.type] || '🔷';
                svg.appendChild(iconText);
                
                // 添加名称
                const nameText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                nameText.setAttribute('x', position.x);
                nameText.setAttribute('y', position.y + 8);
                nameText.setAttribute('text-anchor', 'middle');
                nameText.setAttribute('class', 'text-xs fill-white font-medium pointer-events-none');
                nameText.textContent = entity.name;
                svg.appendChild(nameText);
            });
        }
        
        // 页面加载时的初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 默认显示智能解题标签
            showTab('solver');
        });
    </script>
</body>
</html>