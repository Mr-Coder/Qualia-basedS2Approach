# ğŸ”§ æ¨¡å—åŒ–é‡æ„è®¡åˆ’

## ğŸ“Š å½“å‰æ¶æ„åˆ†æ

### ğŸš¨ ç°æœ‰é—®é¢˜è¯†åˆ«

#### 1. èŒè´£æ··ä¹±
- `ReasoningEngine` ç±»æ‰¿æ‹…äº†è¿‡å¤šèŒè´£ï¼ˆ293è¡Œä»£ç ï¼‰
- `reasoning_core` å’Œ `reasoning_engine` æ¨¡å—åŠŸèƒ½é‡å 
- é…ç½®ç®¡ç†åˆ†æ•£åœ¨å¤šä¸ªæ¨¡å—ä¸­

#### 2. æ¥å£ä¸æ¸…æ™°
- ç¼ºä¹ç»Ÿä¸€çš„å…¬å…±APIå±‚
- æ¨¡å—é—´ä¾èµ–å…³ç³»å¤æ‚
- ç§æœ‰å®ç°å’Œå…¬å…±æ¥å£æ··åˆ

#### 3. ç¡¬ç¼–ç é—®é¢˜
- é¢˜å‹æ¨¡æ¿ç¡¬ç¼–ç åœ¨`ReasoningEngine`ä¸­
- é…ç½®å‚æ•°åˆ†æ•£å­˜å‚¨
- ç¼ºä¹åŠ¨æ€æ‰©å±•èƒ½åŠ›

### ğŸ“‹ å½“å‰æ¨¡å—ç»“æ„
```
src/
â”œâ”€â”€ reasoning_core/          # æ¨ç†æ ¸å¿ƒç»„ä»¶
â”œâ”€â”€ reasoning_engine/        # æ¨ç†å¼•æ“ï¼ˆä¸coreé‡å ï¼‰
â”œâ”€â”€ processors/              # æ•°æ®å¤„ç†å™¨
â”œâ”€â”€ models/                  # æ•°æ®æ¨¡å‹å’ŒAIæ¨¡å‹
â”œâ”€â”€ evaluation/              # è¯„ä¼°ç³»ç»Ÿ
â”œâ”€â”€ ai_core/                 # AIåä½œæ¥å£
â”œâ”€â”€ config/                  # é…ç½®ç®¡ç†
â”œâ”€â”€ utilities/               # å·¥å…·å‡½æ•°
â””â”€â”€ data/                    # æ•°æ®å¤„ç†
```

## ğŸ¯ æ–°æ¨¡å—åŒ–æ¶æ„è®¾è®¡

### ğŸ—ï¸ æ¶æ„åŸåˆ™
1. **å•ä¸€èŒè´£åŸåˆ™**ï¼šæ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½
2. **æ¸…æ™°æ¥å£å®šä¹‰**ï¼špublic_api.pyæä¾›æ ‡å‡†åŒ–æ¥å£
3. **ç§æœ‰å®ç°éš”ç¦»**ï¼šprivate/ç›®å½•éš”ç¦»å†…éƒ¨å®ç°
4. **æ¨¡å—åè°ƒç»Ÿä¸€**ï¼šorchestrator.pyç®¡ç†æ¨¡å—é—´åä½œ

### ğŸ“ æ–°æ¨¡å—ç»“æ„

```
src/
â”œâ”€â”€ reasoning/                    # æ¨ç†å¼•æ“æ¨¡å—
â”‚   â”œâ”€â”€ private/
â”‚   â”‚   â”œâ”€â”€ validator.py         # æ¨ç†ç»“æœéªŒè¯
â”‚   â”‚   â”œâ”€â”€ processor.py         # æ ¸å¿ƒæ¨ç†å¤„ç†
â”‚   â”‚   â”œâ”€â”€ utils.py             # æ¨ç†å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ step_builder.py      # æ¨ç†æ­¥éª¤æ„å»º
â”‚   â”‚   â””â”€â”€ confidence_calc.py   # ç½®ä¿¡åº¦è®¡ç®—
â”‚   â”œâ”€â”€ public_api.py            # æ¨ç†å¼•æ“å…¬å…±æ¥å£
â”‚   â””â”€â”€ orchestrator.py          # æ¨ç†æµç¨‹åè°ƒå™¨
â”‚
â”œâ”€â”€ template_management/          # æ¨¡æ¿ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ private/
â”‚   â”‚   â”œâ”€â”€ validator.py         # æ¨¡æ¿éªŒè¯
â”‚   â”‚   â”œâ”€â”€ processor.py         # æ¨¡æ¿å¤„ç†é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ utils.py             # æ¨¡æ¿å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ matcher.py           # æ¨¡æ¿åŒ¹é…å¼•æ“
â”‚   â”‚   â””â”€â”€ loader.py            # æ¨¡æ¿åŠ è½½å™¨
â”‚   â”œâ”€â”€ public_api.py            # æ¨¡æ¿ç®¡ç†å…¬å…±æ¥å£
â”‚   â”œâ”€â”€ orchestrator.py          # æ¨¡æ¿åè°ƒå™¨
â”‚   â””â”€â”€ templates/               # æ¨¡æ¿é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ math_templates.yaml
â”‚       â”œâ”€â”€ logic_templates.yaml
â”‚       â””â”€â”€ custom_templates.yaml
â”‚
â”œâ”€â”€ data_processing/              # æ•°æ®å¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ private/
â”‚   â”‚   â”œâ”€â”€ validator.py         # æ•°æ®éªŒè¯
â”‚   â”‚   â”œâ”€â”€ processor.py         # æ•°æ®å¤„ç†æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ utils.py             # æ•°æ®å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ extractor.py         # æ•°æ®æå–å™¨
â”‚   â”‚   â””â”€â”€ transformer.py       # æ•°æ®è½¬æ¢å™¨
â”‚   â”œâ”€â”€ public_api.py            # æ•°æ®å¤„ç†å…¬å…±æ¥å£
â”‚   â””â”€â”€ orchestrator.py          # æ•°æ®å¤„ç†åè°ƒå™¨
â”‚
â”œâ”€â”€ meta_knowledge/               # å…ƒçŸ¥è¯†ç³»ç»Ÿæ¨¡å—
â”‚   â”œâ”€â”€ private/
â”‚   â”‚   â”œâ”€â”€ validator.py         # çŸ¥è¯†éªŒè¯
â”‚   â”‚   â”œâ”€â”€ processor.py         # çŸ¥è¯†å¤„ç†å¼•æ“
â”‚   â”‚   â”œâ”€â”€ utils.py             # çŸ¥è¯†å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ concept_matcher.py   # æ¦‚å¿µåŒ¹é…å™¨
â”‚   â”‚   â””â”€â”€ strategy_recommender.py # ç­–ç•¥æ¨èå™¨
â”‚   â”œâ”€â”€ public_api.py            # å…ƒçŸ¥è¯†å…¬å…±æ¥å£
â”‚   â”œâ”€â”€ orchestrator.py          # çŸ¥è¯†åè°ƒå™¨
â”‚   â””â”€â”€ knowledge/               # çŸ¥è¯†åº“é…ç½®
â”‚       â”œâ”€â”€ concepts.yaml
â”‚       â”œâ”€â”€ strategies.yaml
â”‚       â””â”€â”€ relations.yaml
â”‚
â”œâ”€â”€ evaluation/                   # è¯„ä¼°ç³»ç»Ÿæ¨¡å—
â”‚   â”œâ”€â”€ private/
â”‚   â”‚   â”œâ”€â”€ validator.py         # è¯„ä¼°ç»“æœéªŒè¯
â”‚   â”‚   â”œâ”€â”€ processor.py         # è¯„ä¼°å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ utils.py             # è¯„ä¼°å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ metrics_calc.py      # æŒ‡æ ‡è®¡ç®—å™¨
â”‚   â”‚   â””â”€â”€ report_generator.py  # æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ public_api.py            # è¯„ä¼°ç³»ç»Ÿå…¬å…±æ¥å£
â”‚   â””â”€â”€ orchestrator.py          # è¯„ä¼°åè°ƒå™¨
â”‚
â”œâ”€â”€ configuration/                # é…ç½®ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ private/
â”‚   â”‚   â”œâ”€â”€ validator.py         # é…ç½®éªŒè¯
â”‚   â”‚   â”œâ”€â”€ processor.py         # é…ç½®å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ utils.py             # é…ç½®å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ loader.py            # é…ç½®åŠ è½½å™¨
â”‚   â”œâ”€â”€ public_api.py            # é…ç½®ç®¡ç†å…¬å…±æ¥å£
â”‚   â”œâ”€â”€ orchestrator.py          # é…ç½®åè°ƒå™¨
â”‚   â””â”€â”€ configs/                 # é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ default.yaml
â”‚       â”œâ”€â”€ development.yaml
â”‚       â””â”€â”€ production.yaml
â”‚
â””â”€â”€ core/                         # æ ¸å¿ƒåè°ƒæ¨¡å—
    â”œâ”€â”€ system_orchestrator.py   # ç³»ç»Ÿçº§åè°ƒå™¨
    â”œâ”€â”€ module_registry.py       # æ¨¡å—æ³¨å†Œè¡¨
    â”œâ”€â”€ interfaces.py            # ç³»ç»Ÿæ¥å£å®šä¹‰
    â””â”€â”€ exceptions.py            # ç³»ç»Ÿå¼‚å¸¸å®šä¹‰
```

## ğŸ”„ é‡æ„æ‰§è¡Œè®¡åˆ’

### Phase 1: è®¾è®¡æ¶æ„åŸºç¡€ â±ï¸ 1-2å°æ—¶

#### 1.1 åˆ›å»ºæ ¸å¿ƒåŸºç¡€è®¾æ–½
- [ ] åˆ›å»º`core/`æ¨¡å—åŸºç¡€ç»“æ„
- [ ] å®šä¹‰ç³»ç»Ÿçº§æ¥å£å’Œå¼‚å¸¸
- [ ] å®ç°æ¨¡å—æ³¨å†Œæœºåˆ¶
- [ ] åˆ›å»ºç³»ç»Ÿåè°ƒå™¨æ¡†æ¶

#### 1.2 å®šä¹‰æ¨¡å—æ¨¡æ¿
- [ ] åˆ›å»ºæ ‡å‡†æ¨¡å—ç›®å½•ç»“æ„æ¨¡æ¿
- [ ] å®šä¹‰`public_api.py`æ¥å£è§„èŒƒ
- [ ] å®šä¹‰`orchestrator.py`åè°ƒå™¨è§„èŒƒ
- [ ] å®šä¹‰`private/`ç›®å½•ç»„ç»‡è§„èŒƒ

### Phase 2: åˆ›å»ºæ ¸å¿ƒæ¨¡å— â±ï¸ 2-3å°æ—¶

#### 2.1 é‡æ„æ¨ç†å¼•æ“æ¨¡å—
- [ ] åˆ†æ`ReasoningEngine`ç±»èŒè´£
- [ ] æ‹†åˆ†ä¸ºå¤šä¸ªä¸“é—¨ç»„ä»¶ï¼š
  - `processor.py` - æ ¸å¿ƒæ¨ç†é€»è¾‘
  - `validator.py` - ç»“æœéªŒè¯
  - `step_builder.py` - æ¨ç†æ­¥éª¤æ„å»º
  - `confidence_calc.py` - ç½®ä¿¡åº¦è®¡ç®—
- [ ] åˆ›å»ºæ¨ç†æ¨¡å—å…¬å…±API
- [ ] å®ç°æ¨ç†æµç¨‹åè°ƒå™¨

#### 2.2 åˆ›å»ºæ¨¡æ¿ç®¡ç†æ¨¡å—
- [ ] æå–ç¡¬ç¼–ç æ¨¡æ¿åˆ°é…ç½®æ–‡ä»¶
- [ ] å®ç°æ¨¡æ¿åŒ¹é…å¼•æ“
- [ ] åˆ›å»ºæ¨¡æ¿ç®¡ç†API
- [ ] å®ç°åŠ¨æ€æ¨¡æ¿åŠ è½½

#### 2.3 é‡æ„æ•°æ®å¤„ç†æ¨¡å—
- [ ] æ•´åˆåˆ†æ•£çš„æ•°æ®å¤„ç†åŠŸèƒ½
- [ ] å®ç°æ•°æ®éªŒè¯å’Œè½¬æ¢
- [ ] åˆ›å»ºç»Ÿä¸€çš„æ•°æ®å¤„ç†API
- [ ] ä¼˜åŒ–æ•°æ®æå–å’Œå¤„ç†æµç¨‹

### Phase 3: å®ç°æ”¯æŒæ¨¡å— â±ï¸ 1-2å°æ—¶

#### 3.1 é‡æ„å…ƒçŸ¥è¯†æ¨¡å—
- [ ] åˆ†ç¦»å…ƒçŸ¥è¯†ç³»ç»Ÿä¸ºç‹¬ç«‹æ¨¡å—
- [ ] å®ç°çŸ¥è¯†åº“é…ç½®åŒ–
- [ ] åˆ›å»ºæ¦‚å¿µåŒ¹é…å’Œç­–ç•¥æ¨è
- [ ] ä¼˜åŒ–çŸ¥è¯†æ¨ç†é›†æˆ

#### 3.2 ä¼˜åŒ–è¯„ä¼°ç³»ç»Ÿ
- [ ] é‡æ„è¯„ä¼°å™¨ä¸ºæ¨¡å—åŒ–ç»“æ„
- [ ] å®ç°å¯æ’æ‹”çš„è¯„ä¼°æŒ‡æ ‡
- [ ] åˆ›å»ºæŠ¥å‘Šç”Ÿæˆç³»ç»Ÿ
- [ ] ä¼˜åŒ–æ€§èƒ½ç›‘æ§

#### 3.3 ç»Ÿä¸€é…ç½®ç®¡ç†
- [ ] åˆ›å»ºé›†ä¸­é…ç½®ç®¡ç†ç³»ç»Ÿ
- [ ] å®ç°ç¯å¢ƒç‰¹å®šé…ç½®
- [ ] æ”¯æŒåŠ¨æ€é…ç½®æ›´æ–°
- [ ] æ·»åŠ é…ç½®éªŒè¯

### Phase 4: é›†æˆå’Œæµ‹è¯• â±ï¸ 1å°æ—¶

#### 4.1 æ¨¡å—é›†æˆ
- [ ] æ›´æ–°æ‰€æœ‰æ¨¡å—é—´çš„å¼•ç”¨
- [ ] å®ç°ç³»ç»Ÿçº§åè°ƒå™¨
- [ ] æµ‹è¯•æ¨¡å—é—´é€šä¿¡
- [ ] éªŒè¯APIå…¼å®¹æ€§

#### 4.2 è¿ç§»ç°æœ‰åŠŸèƒ½
- [ ] è¿ç§»ç°æœ‰demoå’Œæµ‹è¯•
- [ ] æ›´æ–°æ–‡æ¡£å’Œç¤ºä¾‹
- [ ] éªŒè¯åŠŸèƒ½å®Œæ•´æ€§
- [ ] æ€§èƒ½å¯¹æ¯”æµ‹è¯•

## ğŸ“‹ è¯¦ç»†ä»»åŠ¡åˆ†è§£

### ğŸ¯ ä»»åŠ¡1: åˆ›å»ºreasoningæ¨¡å—

```python
# src/reasoning/public_api.py
class ReasoningAPI:
    """æ¨ç†å¼•æ“ç»Ÿä¸€æ¥å£"""
    
    def solve_problem(self, problem: Dict) -> Dict:
        """è§£å†³æ•°å­¦é—®é¢˜çš„ä¸»æ¥å£"""
        pass
    
    def batch_solve(self, problems: List[Dict]) -> List[Dict]:
        """æ‰¹é‡è§£å†³é—®é¢˜"""
        pass
    
    def get_reasoning_steps(self, problem: Dict) -> List[Dict]:
        """è·å–è¯¦ç»†æ¨ç†æ­¥éª¤"""
        pass

# src/reasoning/orchestrator.py  
class ReasoningOrchestrator:
    """æ¨ç†æµç¨‹åè°ƒå™¨"""
    
    def __init__(self):
        self.validator = ReasoningValidator()
        self.processor = ReasoningProcessor()
        self.step_builder = StepBuilder()
        
    def orchestrate_reasoning(self, problem: Dict) -> Dict:
        """åè°ƒæ•´ä¸ªæ¨ç†æµç¨‹"""
        pass
```

### ğŸ¯ ä»»åŠ¡2: åˆ›å»ºtemplate_managementæ¨¡å—

```python
# src/template_management/public_api.py
class TemplateAPI:
    """æ¨¡æ¿ç®¡ç†ç»Ÿä¸€æ¥å£"""
    
    def identify_template(self, text: str) -> Optional[Dict]:
        """è¯†åˆ«é—®é¢˜ç±»å‹æ¨¡æ¿"""
        pass
    
    def load_templates(self, template_type: str) -> Dict:
        """åŠ è½½æŒ‡å®šç±»å‹çš„æ¨¡æ¿"""
        pass
    
    def register_template(self, template: Dict) -> bool:
        """æ³¨å†Œæ–°æ¨¡æ¿"""
        pass
```

### ğŸ¯ ä»»åŠ¡3: åˆ›å»ºé…ç½®æ–‡ä»¶ç»“æ„

```yaml
# src/template_management/templates/math_templates.yaml
templates:
  discount:
    patterns:
      - "æ‰“(\\d+)æŠ˜"
      - "(\\d+)%æŠ˜æ‰£"
    template: "åŸä»· * (æŠ˜æ‰£/10) = ç°ä»·"
    confidence: 0.8
    
  area:
    patterns:
      - "é¢ç§¯"
      - "å¹³æ–¹"
      - "é•¿.*å®½"
    template: "é•¿ * å®½ = é¢ç§¯"
    confidence: 0.9
```

## ğŸ¯ æˆåŠŸæ ‡å‡†

### âœ… æŠ€æœ¯æŒ‡æ ‡
- [ ] æ¯ä¸ªæ¨¡å—ä»£ç è¡Œæ•° < 500è¡Œ
- [ ] æ¨¡å—é—´è€¦åˆåº¦ < 20%
- [ ] APIæ¥å£è¦†ç›–ç‡ > 95%
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 90%

### ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡
- [ ] æ¨¡å—åŠ è½½æ—¶é—´ < 100ms
- [ ] æ¨ç†å“åº”æ—¶é—´ä¿æŒä¸å˜
- [ ] å†…å­˜å ç”¨å‡å°‘ > 15%
- [ ] å¯æ‰©å±•æ€§æå‡ > 50%

### ğŸ”§ ç»´æŠ¤æ€§æŒ‡æ ‡
- [ ] æ–°åŠŸèƒ½æ·»åŠ æ—¶é—´å‡å°‘ > 40%
- [ ] ä»£ç ç†è§£éš¾åº¦é™ä½ > 30%
- [ ] AIåä½œå‹å¥½åº¦æå‡ > 60%
- [ ] æ–‡æ¡£å®Œæ•´æ€§ > 95%

## ğŸ“š è¿ç§»æŒ‡å—

### ğŸ”„ APIè¿ç§»å¯¹æ¯”

#### åŸæœ‰API:
```python
from reasoning_core.reasoning_engine import ReasoningEngine
engine = ReasoningEngine()
result = engine.solve(problem)
```

#### æ–°API:
```python
from reasoning.public_api import ReasoningAPI
reasoning = ReasoningAPI()
result = reasoning.solve_problem(problem)
```

### ğŸ“¦ ä¾èµ–æ›´æ–°

```python
# æ—§çš„å¯¼å…¥æ–¹å¼
from reasoning_core.reasoning_engine import ReasoningEngine
from reasoning_core.meta_knowledge import MetaKnowledge

# æ–°çš„å¯¼å…¥æ–¹å¼
from reasoning.public_api import ReasoningAPI
from meta_knowledge.public_api import MetaKnowledgeAPI
```

## ğŸ† é¢„æœŸæ”¶ç›Š

### ğŸ¯ å¼€å‘æ•ˆç‡æå‡
- **æ¨¡å—ç‹¬ç«‹æ€§**: å„æ¨¡å—å¯ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•
- **æ¥å£æ ‡å‡†åŒ–**: æ¸…æ™°çš„APIå‡å°‘ç†è§£æˆæœ¬
- **é…ç½®å¤–éƒ¨åŒ–**: åŠ¨æ€é…ç½®æé«˜çµæ´»æ€§

### ğŸ”§ ç»´æŠ¤æ€§æ”¹å–„
- **èŒè´£æ¸…æ™°**: æ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€æ˜ç¡®
- **ä¾èµ–ç®€åŒ–**: å‡å°‘æ¨¡å—é—´å¤æ‚ä¾èµ–
- **æ‰©å±•æ€§å¼º**: æ”¯æŒæ’ä»¶å¼åŠŸèƒ½æ‰©å±•

### ğŸ¤– AIåä½œå‹å¥½
- **ç»“æ„æ¸…æ™°**: AIå®¹æ˜“ç†è§£æ¨¡å—ç»“æ„
- **æ¥å£æ ‡å‡†**: ä¾¿äºAIç”Ÿæˆä»£ç 
- **æ–‡æ¡£å®Œå–„**: æ”¯æŒAIçŸ¥è¯†æ¨ç†

---

**æ€»é¢„è®¡æ—¶é—´**: 5-8å°æ—¶
**é£é™©è¯„ä¼°**: ä½ï¼ˆæ¸è¿›å¼é‡æ„ï¼Œä¿æŒå‘åå…¼å®¹ï¼‰
**ä¼˜å…ˆçº§**: é«˜ï¼ˆæå‡æ•´ä½“æ¶æ„è´¨é‡å’Œå¯ç»´æŠ¤æ€§ï¼‰ 