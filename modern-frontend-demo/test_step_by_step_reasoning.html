<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•åˆ†æ­¥ç‰©æ€§æ¨ç†</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .status {
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            text-align: center;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ§© åˆ†æ­¥ç‰©æ€§æ¨ç†æµ‹è¯•</h1>
        
        <div class="status info">
            <p>æ­£åœ¨æµ‹è¯•æ–°çš„ StepByStepPhysicalReasoning ç»„ä»¶...</p>
        </div>
        
        <div id="test-results"></div>
    </div>

    <script>
        async function testStepByStepReasoning() {
            const resultsDiv = document.getElementById('test-results');
            
            try {
                // æµ‹è¯•APIè¿æ¥
                const apiUrl = 'http://localhost:5000/api';
                resultsDiv.innerHTML = '<div class="status info">æµ‹è¯•APIè¿æ¥...</div>';
                
                const testResponse = await fetch(`${apiUrl}/test`);
                if (!testResponse.ok) {
                    throw new Error('APIæœåŠ¡å™¨æœªè¿è¡Œ');
                }
                
                resultsDiv.innerHTML += '<div class="status success">âœ… APIè¿æ¥æˆåŠŸ</div>';
                
                // æµ‹è¯•ç‰©æ€§æ¨ç†åŠŸèƒ½
                resultsDiv.innerHTML += '<div class="status info">æµ‹è¯•ç‰©æ€§æ¨ç†ç®—æ³•...</div>';
                
                const testProblems = [
                    {
                        title: "è‹¹æœæ•°é‡é—®é¢˜",
                        problem: "å°æ˜æœ‰5ä¸ªè‹¹æœï¼Œå¦ˆå¦ˆåˆç»™äº†ä»–3ä¸ªè‹¹æœï¼Œç°åœ¨å°æ˜ä¸€å…±æœ‰å‡ ä¸ªè‹¹æœï¼Ÿ"
                    },
                    {
                        title: "æ°´æ± æ’æ°´é—®é¢˜",
                        problem: "æ°´æ± æœ‰æ°´100å‡ï¼Œæ¯å°æ—¶æµå‡º20å‡ï¼Œå‡ å°æ—¶åæ°´æ± ä¸ºç©ºï¼Ÿ"
                    },
                    {
                        title: "è´­ç‰©é—®é¢˜",
                        problem: "å°çº¢ä¹°äº†3æ”¯ç¬”ï¼Œæ¯æ”¯ç¬”5å…ƒï¼Œå¥¹ä¸€å…±èŠ±äº†å¤šå°‘é’±ï¼Ÿ"
                    }
                ];
                
                for (const test of testProblems) {
                    resultsDiv.innerHTML += `<h3>${test.title}</h3>`;
                    resultsDiv.innerHTML += `<p><strong>é¢˜ç›®ï¼š</strong>${test.problem}</p>`;
                    
                    try {
                        const response = await fetch(`${apiUrl}/solve`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ problem: test.problem })
                        });
                        
                        if (response.ok) {
                            const data = await response.json();
                            resultsDiv.innerHTML += `<div class="status success">âœ… æ¨ç†æˆåŠŸ</div>`;
                            resultsDiv.innerHTML += `<pre>${JSON.stringify(data, null, 2)}</pre>`;
                        } else {
                            resultsDiv.innerHTML += `<div class="status error">âŒ æ¨ç†å¤±è´¥ï¼š${response.statusText}</div>`;
                        }
                    } catch (error) {
                        resultsDiv.innerHTML += `<div class="status error">âŒ é”™è¯¯ï¼š${error.message}</div>`;
                    }
                }
                
                // æµ‹è¯•å®Œæˆ
                resultsDiv.innerHTML += '<div class="status success">âœ… æ‰€æœ‰æµ‹è¯•å®Œæˆï¼ç°åœ¨å¯ä»¥åœ¨ä¸»åº”ç”¨ä¸­ä½¿ç”¨"ç‰©æ€§æ¨ç†"æ¨¡å—äº†ã€‚</div>';
                resultsDiv.innerHTML += '<p><strong>ä¸‹ä¸€æ­¥ï¼š</strong></p>';
                resultsDiv.innerHTML += '<ol>';
                resultsDiv.innerHTML += '<li>ç¡®ä¿ API æœåŠ¡å™¨åœ¨è¿è¡Œï¼š<code>cd modern-frontend-demo && python demo_frontend.py</code></li>';
                resultsDiv.innerHTML += '<li>åœ¨å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œå‰ç«¯ï¼š<code>cd modern-frontend-demo && npm run dev</code></li>';
                resultsDiv.innerHTML += '<li>è®¿é—® <a href="http://localhost:5173">http://localhost:5173</a></li>';
                resultsDiv.innerHTML += '<li>ç‚¹å‡»"ç‰©æ€§æ¨ç†"æ ‡ç­¾é¡µæŸ¥çœ‹åˆ†æ­¥æ¼”ç¤º</li>';
                resultsDiv.innerHTML += '</ol>';
                
            } catch (error) {
                resultsDiv.innerHTML = `<div class="status error">âŒ æµ‹è¯•å¤±è´¥ï¼š${error.message}</div>`;
                resultsDiv.innerHTML += '<p><strong>è¯·ç¡®ä¿ï¼š</strong></p>';
                resultsDiv.innerHTML += '<ol>';
                resultsDiv.innerHTML += '<li>APIæœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼š<code>cd modern-frontend-demo && python demo_frontend.py</code></li>';
                resultsDiv.innerHTML += '<li>æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:5000</li>';
                resultsDiv.innerHTML += '</ol>';
            }
        }
        
        // è¿è¡Œæµ‹è¯•
        testStepByStepReasoning();
    </script>
</body>
</html>